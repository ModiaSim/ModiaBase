<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ModiaBase</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">ModiaBase</span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href="index.html">Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Release-Notes"><span>Release Notes</span></a></li><li><a class="tocitem" href="#Main-developers"><span>Main developers</span></a></li></ul></li><li><a class="tocitem" href="Tutorial.html">Tutorial</a></li><li><a class="tocitem" href="DataStructures.html">Data Structures</a></li><li><a class="tocitem" href="EquationSorting.html">Equation Sorting</a></li><li><a class="tocitem" href="EquationReduction.html">Equation Reduction</a></li><li><a class="tocitem" href="TransformationToODEs.html">Transformation to ODE System</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="index.html">Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="index.html">Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com//blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="ModiaBase.jl-Documentation"><a class="docs-heading-anchor" href="#ModiaBase.jl-Documentation">ModiaBase.jl Documentation</a><a id="ModiaBase.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#ModiaBase.jl-Documentation" title="Permalink"></a></h1><p><a href="https://github.com/ModiaSim/ModiaBase.jl">ModiaBase</a> provides functions to support the transformation of a Differential Algebraic Equation system (DAE)</p><p class="math-container">\[0 = f_{dae}(\frac{dx_{dae}}{dt},x_{dae},w,t) \tag{1}\]</p><p>to an explicit Ordinary Differential Equation system (ODE)</p><p class="math-container">\[\begin{aligned}
  \frac{dx_{ode}}{dt} &amp;= f_{x}(x_{ode},t) \\
         (w, x_{dae}) &amp;= f_{w}(x_{ode},t)
\end{aligned} \tag{2}\]</p><p>where <span>$x=x(t), w=w(t)$</span> are vector valued functions of the scalar variable <span>$t$</span> (= usually time). <span>$x_{dae}$</span> is the DAE state vector, <span>$x_{ode}$</span> is the ODE state vector - a subset of <span>$x_{dae}$</span>, and <span>$w$</span> are purely algebraic variables that do not appear differentiated in the DAE. The equations are hereby represented as a vector of Julia expressions, that is of an Abstract Syntax Tree (AST).</p><p>These functions are used by package <a href="https://github.com/ModiaSim/TinyModia.jl">TinyModia</a>, but can also be utilized in another context.</p><p>Especially the following functionality is provided:</p><ul><li>Find a variable assignment of an equation system, in order to transform the equation system in a directed graph that can be further processed.</li></ul><ul><li>Find the strong components in a directed graph (with the algorithm of Tarjan) in order to find algebraic equation systems that must be solved together.</li></ul><ul><li>Sort an equation system (= transform to Block Lower Triangular form), in order determine the order in which the equations have to be evaluated.</li></ul><ul><li>Simplify linear Integer equations (remove alias variables/equations as well as redundant equations, provide definite values to variables that have an infinite number of solutions if this makes sense, make state constraints structurally visible). Many equations of object-oriented models are linear Integer equations and can be pre-processed exactly to simplify the equations and to remove (consistently) redundant or overdetermined equations.</li></ul><ul><li>Reduce the dimension of algebraic equation systems by tearing.</li></ul><ul><li>Find equations that need to be differentiated one or more times (with the algorithm of Pantelides) in order that the DAE can be transformed to an ODE.</li></ul><ul><li>Analytically differentiate the found equations.</li></ul><ul><li>Statically select ODE states and transform to ODE form (hereby identifying linear equation systems that must be solved during simulation).</li></ul><p>Transformation from a DAE to an ODE form is performed if no nonlinear-algebraic equations appear and the ODE-states can be statically selected.</p><p>Array variables and array equations are kept (they are not &quot;flattened&quot; in single elements). However, DAE forms that require to differentiate array equations, are not yet supported.</p><p>The following extensions are planned for the near future (a &quot;few months&quot;; most of the code is available but must be adapted to ModiaBase):</p><ul><li>Full support of array equations.</li><li>State- and time events.</li><li>If transformation to an ODE is not possible with the algorithms above, transformation to a special index 1 DAE, that can be simulated with standard DAE solvers (such as Sundials IDA).</li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>The package is currently being registered. During this phase, it is installed as (Julia &gt;= 1.5 is required):</p><pre><code class="language-julia">julia&gt; ]add https://github.com/ModiaSim/ModiaBase.jl#main</code></pre><p>It is recommended to also add the following packages, in order that all tests and examples can be executed:</p><pre><code class="language-julia">julia&gt; ]add Unitful, Measurements, MonteCarloMeasurements, Distributions</code></pre><h2 id="Release-Notes"><a class="docs-heading-anchor" href="#Release-Notes">Release Notes</a><a id="Release-Notes-1"></a><a class="docs-heading-anchor-permalink" href="#Release-Notes" title="Permalink"></a></h2><h3 id="Version-0.7.0"><a class="docs-heading-anchor" href="#Version-0.7.0">Version 0.7.0</a><a id="Version-0.7.0-1"></a><a class="docs-heading-anchor-permalink" href="#Version-0.7.0" title="Permalink"></a></h3><ul><li>Initial version, based on code developed for Modia 0.6 and ModiaMath 0.6.</li></ul><h2 id="Main-developers"><a class="docs-heading-anchor" href="#Main-developers">Main developers</a><a id="Main-developers-1"></a><a class="docs-heading-anchor-permalink" href="#Main-developers" title="Permalink"></a></h2><ul><li>Hilding Elmqvist (Mogram AB)</li><li>Martin Otter (<a href="https://www.dlr.de/sr/en">DLR - Institute of System Dynamics and Control</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="Tutorial.html">Tutorial »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 3 February 2021 17:12">Wednesday 3 February 2021</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
